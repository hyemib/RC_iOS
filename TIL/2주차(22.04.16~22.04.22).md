# í•™ìŠµ ë‚´ìš©

- [x] Life Cycle
- [x] í™”ë©´ ì „í™˜(Present/Push)
- [x] Page Control
- [x] ë°°ì—´ ëœë¤ ì„ íƒ
- [x] Navigation Bar(BackButton í…ìŠ¤íŠ¸ ë³€ê²½/Titleì— ì´ë¯¸ì§€ ì¶”ê°€/UIBarButtonItem ì¶”ê°€)
- [x] ì•Œë¦¼ì°½ í‘œì‹œ
- [x] AppDelegateë¥¼ ì‚¬ìš©í•´ ê°’ ì €ì¥
- [x] NotificationCenter(Background->Foreground ì§„ì…)
- [x] Switcher Mode Blur ì²˜ë¦¬

---

# Life Cycle

## App State

ì•±ì´ Foreground/Backgroundì— ìˆì„ ë•Œ ì´ë²¤íŠ¸ì— ì˜í•´ ì•±ì˜ ìƒíƒœê°€ ì „í™˜ë˜ëŠ” ì¼ë ¨ì˜ ê³¼ì •

<img width="448" alt="img" src="https://user-images.githubusercontent.com/98953443/165024928-041b82d0-b143-4387-b4cd-1999830f7ea8.png">

#### 1. Not Running

ì•±ì´ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì¢…ë£Œë˜ì–´ ë™ì‘í•˜ì§€ ì•Šì€ ìƒíƒœ

#### 2-1. Foreground - Inactive

ì•±ì´ ì‹¤í–‰ì¤‘ì´ì§€ë§Œ ì•„ë¬´ëŸ° ì´ë²¤íŠ¸ë¥¼ ë°›ì§€ ì•Šì€ ìƒíƒœ(ex ì ê¸ˆ ìƒíƒœ, ì „í™” ìˆ˜ì‹ ì— ì˜í•´ ê°€ë¦¼)

#### 2-2. Foreground - Active

ì•±ì´ ì‹¤í–‰ì¤‘ì´ê³  ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ìƒíƒœ

#### 3-1. Background - Running

í™ˆ í™”ë©´ìœ¼ë¡œ ë‚˜ê°€ê±°ë‚˜ ë‹¤ë¥¸ ì•±ìœ¼ë¡œ ì „í™˜ë˜ì–´ í˜„ì¬ ì•±ì´ ì‹¤ì§ˆì ì¸ ë™ì‘ì„ í•˜ì§€ ì•ŠëŠ” ìƒíƒœ

#### 3-2. Background - Suspended

ì•±ì„ ë‹¤ì‹œ ì‹¤í–‰í–ˆì„ ë•Œ ìµœê·¼ ì‘ì—…ì„ ë¹ ë¥´ê²Œ ë¡œë“œí•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ì— ê´€ë ¨ ë°ì´í„°ë§Œ ì €ì¥ë˜ì–´ ìˆëŠ” ìƒíƒœ

ì•±ì´ background ìƒíƒœì— ì§„ì…í–ˆì„ ë•Œ  ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•˜ë©´ Suspended ìƒíƒœë¡œ ì§„ì…

</br>

## AppDelegate

Life Cycleì„ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ë¡œ ì•± ì‹¤í–‰ ìƒíƒœ ë³€í™”ë¥¼ ë©”ì†Œë“œë¡œ ì •ì˜

#### 1. application(_ :willFinishLaunchingWithOptions: )

ì•±ì´ êµ¬ë™ë˜ì–´ í•„ìš”í•œ ì´ˆê¸° ì‹¤í–‰ê³¼ì •ì´ ì™„ë£Œë˜ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### 2. application(_ :didFinishLaunchingWithOptions:)

ì•±ì´ ì‚¬ìš©ìì—ê²Œ í™”ë©´ìœ¼ë¡œ í‘œì‹œë˜ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### 3.  applicationDidBecomActive(_:)

ì‹¤í–‰ëœ ì•±ì´ foregroundì— í‘œì‹œë  ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

ì•±ì´ Inactiveìƒíƒœì— ì§„ì…í•˜ì—¬ ì¤‘ì§€ëœ ì‘ì—…ì„ ì¬ì‹œì‘í•˜ëŠ” ì½”ë“œ ì‘ì„±

#### 4. applicationDidEnterBacground(_:)

ì•±ì´ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœì— ì§„ì…í–ˆì„ ë•Œ í˜¸ì¶œ

ì¢…ë£Œëœ ì•±ì´ ë‹¤ì‹œ ì‹¤í–‰ë  ë•Œ í˜„ì¬ ìƒíƒœë¥¼ ë³µêµ¬í•˜ë„ë¡ í•„ìš”í•œ ìƒíƒœ ì •ë³´ë„ ì´ ë©”ì„œë“œì— ì €ì¥ ì²˜ë¦¬

#### 5. applicationWillTerminate(_:)

ì•±ì´ ì¢…ë£Œë˜ê¸° ì§ì „ì— í˜¸ì¶œ

</br>

iOS12 ì´ì „ì—ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì™€ í•˜ë‚˜ì˜ UIë§Œ ê°€ì¡Œì§€ë§Œ iOS13ì— ë©€í‹° ìœˆë„ìš°ë¥¼ ì§€ì›í•˜ê²Œ ë˜ë©´ì„œ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì™€ ì—¬ëŸ¬ ê°œì˜ UIë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

<img width="623" alt="ìŠ¤í¬ë¦°ìƒ· 2022-04-25 ì˜¤í›„ 2 32 53" src="https://user-images.githubusercontent.com/98953443/165026444-65362a42-1c41-4576-9c0c-d5e127e91272.png">

ê¸°ì¡´ì˜ App DelegateëŠ” Process Life Cycleê³¼ UI Life Cycle ê¸°ëŠ¥ì„ ëª¨ë‘ ë‹´ë‹¹í•˜ê³  ìˆì—ˆì§€ë§Œ iOS 13ì—ì„œ ë©€í‹° ìœˆë„ìš°ë¥¼ ì§€ì›í•˜ê²Œ ë˜ë©´ì„œ SceneDelegateê°€ ìƒê¸°ê³ , windowì˜ ê°œë…ì´ sceneìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.

</br>

## View Controller Life Cycle

#### 1. viewDidLoad

View Controllerì˜ ëª¨ë“  viewê°€ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ì—ˆì„ ë•Œ í•œ ë²ˆ í˜¸ì¶œ

viewì˜ ì´ˆê¸°í™” ì‘ì—… ìˆ˜í–‰

#### 2. viewWillAppear

viewê°€ viewê³„ì¸µì— ì¶”ê°€ë˜ê³  í™”ë©´ì— ë³´ì´ê¸° ì§ì „ì— ë§¤ ë²ˆ í˜¸ì¶œ

#### 3. viewDidAppear

viewê°€ view ê³„ì¸µì— ì¶”ê°€ë˜ì–´ í™”ë©´ì´ í‘œì‹œë˜ë©´ í˜¸ì¶œ

#### 4. viewWillDisappear

viewê°€ view ê³„ì¸µì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œ

ì‚¬ìš©ìì˜ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ê±°ë‚˜ ì‘ë‹µ ìƒíƒœì˜ ì œê±°ì™€ ê°™ì€ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰

#### 4. viewDidDisappear

viewê°€ view ê³„ì¸µì—ì„œ ì‚¬ë¼ì§„ í›„ í˜¸ì¶œ

</br>

---

# í™”ë©´ ì „í™˜

>1. segue ì‚¬ìš©
>2. Modalì„ ì´ìš©í•˜ì—¬ Present
>3. Navigation Controllerì„ ì‚¬ìš©í•˜ì—¬ push

</br>

## Present

Present(_:animated:completion:)

completionì€ íŠ¸ë ˆì¼ë§ í´ë¡œì €ë¡œ êµ¬í˜„í•˜ë©°, í™”ë©´ ì „í™˜ì´ ëë‚œ í›„ì— í˜¸ì¶œí•´ ì£¼ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì´ë‹¤.

í™”ë©´ì„ ë‹¤ë¥¸ í™”ë©´ ìœ„ë¡œ ë„ì›Œ í‘œí˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ íë¦„ì„ ì´ì–´ì§€ëŠ” ì»¨í…ì¸  ë³´ë‹¤ëŠ” íë¦„ì„ ëŠê³  ë³´ì—¬ì¤˜ì•¼í•˜ëŠ” ì½˜í…ì¸ ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•œë‹¤.

```swift
// storyboard IDë¡œ ViewControllerêµ¬ë¶„
guard let nextVC = self.storyboard?.instantiateViewController(identifier: "SecondViewController") as? SecondViewController else { return }
nextVC.modalPresentationStyle = .fullScreen // í™”ë©´ ì „í™˜ ìŠ¤íƒ€ì¼ ì§€ì •
self.present(nextVC, animated: true, completion: nil)
```

```swift
// ëŒì•„ê°€ê¸°
self.dismiss(animated: true, completion: nil)
```

</br>

## Push

ìì‹ ë·°ëŠ” stackìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.

```swift
guard let nextVC = self.storyboard?.instantiateViewController(withIdentifier: "SecondViewController") as? SecondViewController else { return }
self.navigationController?.pushViewController(nextVC, animated: true)
```

```swift
// ëŒì•„ê°€ê¸°
// ìŠ¤íƒì— ìŒ“ì¸ í•œê°œì˜ ë·°ë¥¼ popí•˜ê³  ëŒì•„ê°
self.navigationController?.popViewController(animated: true)
```

```swift
// ì›í•˜ëŠ” ìŠ¤íƒìœ¼ë¡œ ëŒì•„ê°€ê³ ì í•  ê²½ìš°
guard let nextVC =  self.storyboard?.instantiateViewController(withIdentifier: "SecondViewController")  else {return} 
	nextVC.modalPresentationStyle = .fullScreen
	self.present(nextVC, animated: true, completion: {
		//navigation ìŠ¤íƒì—ì„œ ëŒì•„ê°€ê³ ì‹¶ì€ ë·°ê¹Œì§€ popí•˜ë©´ì„œ ì´ë™ 
		if let firstVC = ViewControoller as? FirstVC {
			self.navigationController?.popToViewController(firstVC ,animated: true)
		}
	})
```

```swift
// ë§¨ ì²˜ìŒ RootViewë¡œ ëŒì•„ê°€ê¸°
guard let nextVC =  self.storyboard?.instantiateViewController(withIdentifier: "SecondViewController")  else {return} 
	nextVC.modalPresentationStyle = .fullScreen
  self.present(nextVC, animated: true, completion: {
      self.navigationController?.rootViewController(animated: true)
    })

```

</br>

---

# Page Control

```swift
var images = [ "01.jpeg", "02.jpeg", "03.jpeg", "04.jpeg", "05.jpeg", "06.jpeg" 

@IBOutlet var imgView: UIImageView! 
@IBOutlet var pageControl: UIPageControl!
              
func setPageControl() {
  // í˜ì´ì§€ ì»¨íŠ¸ë¡¤ì˜ ì „ì²´ í˜ì´ì§€ë¥¼ images ë°°ì—´ì˜ ì „ì²´ ê°œìˆ˜ ê°’ìœ¼ë¡œ ì„¤ì •
  pageControl.numberOfPages = images.count
  // í˜ì´ì§€ ì»¨íŠ¸ë¡¤ì˜ í˜„ì¬ í˜ì´ì§€ë¥¼ 0ìœ¼ë¡œ ì„¤ì •
  pageControl.currentPage = 0
  // í˜ì´ì§€ í‘œì‹œ ìƒ‰ìƒ
  pageControl.pageIndicatorTintColor = UIColor.lightGray
  // í˜„ì¬ í˜ì´ì§€ í‘œì‹œ ìƒ‰ìƒ
  pageControl.currentPageIndicatorTintColor = UIColor.black
  image.image = UIImage(named: adImages[0])
 }
              
// í˜ì´ì§€ê°€ ë³€í•˜ë©´ í˜¸ì¶œ    
@IBAction func pageChanged(_ sender: UIPageControl) {
  // imagesì—ì„œ pageControlì´ ê°€ë¥´í‚¤ëŠ” í˜„ì¬ í˜ì´ì§€ì— í•´ë‹¹í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ ImgViewì— í• ë‹¹
  imgView.image = UIImage(named: images[pageControl.currentPage])
}
```

</br>

---

# ë°°ì—´ ëœë¤ ì„ íƒ

```swift
// ì§€ì • ì¸ë±ìŠ¤ì˜ ìˆ˜ ì¤‘ ëœë¤ìœ¼ë¡œ ì„ íƒ
image.image = [UIImage(named: "randomImg1"),UIImage(named: "randomImg2"),UIImage(named: "randomImg3"),UIImage(named: "randomImg4")][Int.random(in: 0...3)]
```

</br>

---

# Navigation Bar

##  BackButton í…ìŠ¤íŠ¸ ë³€ê²½

```swift
let backButtonItem = UIBarButtonItem()
backButtonItem.title = ""
self.navigationController?.navigationBar.topItem?.backBarButtonItem = backButtonItem
```

</br>

## Titleì— ì´ë¯¸ì§€ ì¶”ê°€

```swift
let logo = UIImageView(image: UIImage(named: "logo"))
logo.contentMode = .scaleAspectFit 
logo.widthAnchor.constraint(equalToConstant: 140).isActive = true // ë„ˆë¹„
logo.heightAnchor.constraint(equalToConstant: 40).isActive = true // ë†’ì´
navigationItem.titleView = logo
```

</br>

## UIBarButtonItem ì¶”ê°€

```swift
let navigationBarItem = UIBarButtonItem(image: UIImage(named: "itemImg"), style: .plain, target: self, action: #selector(buttonPressed()))
// ìš°ì¶• ì•„ì´í…œ ì˜ì—­ì— ì¶”ê°€
self.navigationItem.rightBarButtonItem = navigationBarItem 
// ì¢Œì¸¡ ì•„ì´í…œ ì˜ì—­ì— ì¶”ê°€
self.navigationItem.leftBarButtonItem = navigationBarItem 
```

</br>

---

# ì•Œë¦¼ ì°½ í‘œì‹œ

```swift
// alert(ì œëª©, ë©”ì‹œì§€, alertì¢…ë¥˜)
let alertVC = UIAlertController(title: "ì£¼ë¬¸í•  ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.", message: nil, preferredStyle: .alert)
// alertì˜ ë²„íŠ¼ ì¶”ê°€
let okAction = UIAlertAction(title: "í™•ì¸", style: .default, handler: nil)
// ìƒì„±í•œ ë²„íŠ¼ì„ alert ë ˆì´ì•„ì›ƒì— ë“±ë¡
alertVC.addAction(okAction)
present(alertVC, animated: true, completion: nil)
```

</br>

---

# AppDelegateë¥¼ ì‚¬ìš©í•´ ê°’ ì €ì¥

ì•±ì´ ì‹œì‘ë˜ê³  ëë‚˜ê¸° ì§ì „ê¹Œì§€ë§Œ ê°’ì´ ìœ ì§€ë˜ë©° ì˜ì†ì ì¸ ê°’ì„ ì €ì¥í•˜ê¸°ì—” ì í•©í•˜ì§€ ì•Šë‹¤.

AppDelegateì— ì €ì¥í•˜ê³ ì í•˜ëŠ” ê°’ì„ ì •ì˜í•˜ê³  AppDelegate ê°ì²´ë¥¼ í˜¸ì¶œí•´ í•´ë‹¹ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê³  ê°±ì‹ í•œë‹¤.

```swift
class AppDelegate: UIResponder, UIApplicationDelegate {
    var cartList = [Cart]()
}
```

```swift
let appDelegate = UIApplication.shared.delegate as? AppDelegate
```

</br>

---

# NotificationCenter

ì´ë²¤íŠ¸ë“¤ì˜ ë°œìƒ ì—¬ë¶€ë¥¼ ì˜µì €ë²„ë¥¼ ë“±ë¡í•œ ê°ì²´ë“¤ì—ê²Œ Notoficationì„ postí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

Notification Nameì´ë¼ëŠ” Key ê°’ì„ í†µí•´ ë³´ë‚´ê³  ë°›ì„ ìˆ˜ ìˆë‹¤.

</br>

Notificationì€ êµ¬ì¡°ì²´ë¡œ ì •ë³´ê°€ ë‹´ê²¨ìˆìœ¼ë©° í•´ë‹¹ ì•Œë¦¼ì„ ë“±ë¡í•œ ì˜µì €ë²„ì—ê²Œë§Œ ì „ë‹¬ëœë‹¤.

```swift
var name: Notification.name // ì „ë‹¬í•˜ê³ ìí•˜ëŠ” notification ì´ë¦„
var object: Any? // ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë°ì´í„°
userInfo: [AnyHashable: Any]? // notificationê³¼ ê´€ë ¨ëœ ê°’ ë˜ëŠ” ê°ì²´ì˜ ì €ì¥ì†Œ
```

</br>

## Bagroundì—ì„œ Foregroundë¡œ ì§„ì…

Notification.nameì€ UIApplication.willEnterForegroundNotification 

```swift
override func viewDidLoad() {
        super.viewDidLoad()
  			// ì´ë²¤íŠ¸ë¥¼ ë°›ìŒ(addObserver)
        NotificationCenter.default.addObserver(self, selector: #selector(enterForeground), name: UIApplication.willEnterForegroundNotification, object: nil)
    }

@objc func enterForeground() {
        print("entered foreground")
  			// notificationCenterë¥¼ ì œê±°í•˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ì— ê³„ì† ì˜¬ë¼ê°€ ìˆê²Œ ë˜ë¯€ë¡œ í•´ì œë¥¼ í•´ì•¼í•œë‹¤.
        NotificationCenter.default.removeObserver(self, name: UIApplication.willEnterForegroundNotification, object: nil)
    }
```

</br>

# Switcher Mode Blur ì²˜ë¦¬

switcher modeì— ì§„ì…í•˜ê²Œ ë˜ë©´ sceneWillResignActiveê°€ í˜¸ì¶œëœë‹¤. sceneWillResignActiveëŠ” ì‹œìŠ¤í…œ ê²½ê³ , ì „í™” ìˆ˜ì‹  ë“± ì¼ì‹œì ì¸ ì¤‘ë‹¨ì¸ ê²½ìš° ë°±ê·¸ë¼ìš´ë“œ ì§„ì… ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì´ë‹¤. sceneDidBecomeActiveëŠ” ì•±ì„ ì‹¤í–‰í•˜ë©´ í˜¸ì¶œëœë‹¤.

```swift
var blurView: UIVisualEffectView?

 func sceneWillResignActive(_ scene: UIScene) {
    // blurViewë¥¼ window í¬ê¸°ë¡œ ì¡ì•„ì£¼ê³  windowì— ì¶”ê°€
    guard let window = window else {
        return
    }
    let effect = UIBlurEffect(style: .regular)
    blurView = UIVisualEffectView(effect: effect)
    blurView?.frame = window.frame
    window.addSubview(blurView!)
}

func sceneDidBecomeActive(_ scene: UIScene) {
    // ì•±ì´ ë‹¤ì‹œ í™œì„±í™” ìƒíƒœê°€ ë˜ë©´ blurViewë¥¼ windowì— ì œê±°
    if let blurView = blurView {
        blurView.removeFromSuperview()
    }
```

</br>

---

#### ì¶œì²˜

https://beansbin-develop.tistory.com/5

https://snowee.tistory.com/41

https://ahyeonlog.tistory.com/18

https://velog.io/@wook4506/iOS-Swift-

https://moonibot.tistory.com/29

https://hyesunzzang.tistory.com/234

https://hellozo0.tistory.com/378

https://calmone.tistory.com/entry/iOS-UIKit-in-Swift-4-UIBarButtonItem

https://peppo.tistory.com/29

https://2unbini.github.io/ğŸ“‚%20all/swift/UIKit-6/

https://leeari95.tistory.com/49

https://ios-development.tistory.com/510

https://hyesunzzang.tistory.com/234